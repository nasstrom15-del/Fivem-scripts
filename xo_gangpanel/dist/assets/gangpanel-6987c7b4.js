import{m as G,u as K,r as w,a as l,b as $,k as U,d as e,w as t,g as o,t as r,f as m,e as i,c as T,h as j,F as q,_ as ee,j as W,n as ve,q as ge,l as ie,s as fe,v as ue,p as de,i as re}from"./index-f8e76e8b.js";const he={style:{position:"absolute",top:"0.5vh",left:"1.0vh"}},be={style:{"font-weight":"500"}},ye={style:{left:"-0.7vh",position:"relative"}},ke={style:{"font-weight":"500"}},xe={__name:"overview",setup(z){G();const n=K(),d=w(!1),b=w(null),V=w(!1);w(!1);const I=[{align:"center",key:"zone",title:"Område"},{align:"center",key:"time",title:"Tid tills belöning"},{align:"center",key:"manage",title:"Hantera"}],C=y=>y.toLocaleString("sv-SE")+" kr";function p(y){b.value=y,d.value=!0}function N(){d.value=!1,b.value=null}const v=y=>{V.value=!0,n.send("deleteZone",{zone:y.zone},(P,k)=>{P?console.error("Något har gått fel",P):(V.value=!1,N(),console.log("Det har gått rätt till!",k))})},_=y=>{const k=new Date().getTime()/1e3-y;if(k>=1800)return"Belöning kan hämtas!";{const g=1800-k,A=Math.floor(g/60),D=Math.floor(g%60);return`${A} minuter ${D} sekunder kvar`}};return(y,P)=>{const k=l("v-card-title"),g=l("v-card-subtitle"),A=l("v-card"),D=l("v-icon"),S=l("v-btn"),L=l("v-data-table"),x=l("v-card-text"),s=l("v-spacer"),a=l("v-card-actions"),f=l("v-dialog");return $(),U(q,null,[e(A,{elevation:"3",title:"Översikt - Ekonomi",subtitle:"Här är företagets ekonomiska sammanställning",style:{position:"absolute",height:"20vh",width:"40vh",top:"1vh",background:"#1B428A"}},{default:t(()=>[e(A,{"prepend-icon":"mdi mdi-piggy-bank",style:{width:"18vh",left:"1.5vh",top:"10px",height:"10vh",background:"#00000030"}},{default:t(()=>[e(k,{style:{"font-size":"15px",position:"relative",top:"-12px"}},{default:t(()=>[o("Kassa")]),_:1}),e(g,{style:{position:"relative","margin-top":"-21px"}},{default:t(()=>[o(r(C(m(n).gangPanel.balance)),1)]),_:1})]),_:1}),e(A,{"prepend-icon":"mdi mdi-hand-coin",style:{width:"18vh",left:"20.5vh",top:"-98px",height:"10vh",background:"#00000030"}},{default:t(()=>[e(k,{style:{"font-size":"15px",position:"relative",top:"-12px"}},{default:t(()=>[o("Poäng")]),_:1}),e(g,{style:{position:"relative","margin-top":"-21px"}},{default:t(()=>[o(r(m(n).gangPanel.points),1)]),_:1})]),_:1})]),_:1}),e(A,{elevation:"3",title:"Översikt - Företag",subtitle:"Här är företagets allmänna sammanställning",style:{position:"absolute",height:"20vh",width:"40vh",top:"1vh",left:"41vh",background:"#1B428A"}},{default:t(()=>[e(A,{"prepend-icon":"mdi mdi-account-hard-hat-outline",style:{width:"18vh",left:"1.5vh",top:"10px",height:"10vh",background:"#00000030"}},{default:t(()=>[e(k,{style:{"font-size":"15px",position:"relative",top:"-12px"}},{default:t(()=>[o("Anställda")]),_:1}),e(g,{style:{position:"relative","margin-top":"-21px"}},{default:t(()=>[o(r(m(n).gangPanel.employees),1)]),_:1})]),_:1}),e(A,{"prepend-icon":"mdi mdi-stairs-up",style:{width:"18vh",left:"20.5vh",top:"-98px",height:"10vh",background:"#00000030"}},{default:t(()=>[e(k,{style:{"font-size":"15px",position:"relative",top:"-12px"}},{default:t(()=>[o("Nivåer")]),_:1}),e(g,{style:{position:"relative","margin-top":"-21px"}},{default:t(()=>[o("Nivå "+r(m(n).gangPanel.level.level),1)]),_:1})]),_:1})]),_:1}),e(A,{class:"zone-card",elevation:"1",style:{width:"82vh",top:"22vh","max-height":"25.9vh",background:"#1B428A"}},{default:t(()=>[i("span",he,[o(" Vilka zoner "),i("span",be,r(m(n).gangPanel.label),1),o(" kontrollerar ")]),e(L,{style:{background:"#1B428A",position:"relative","margin-top":"2.4vh","max-height":"36vh",width:"81vh","border-radius":"7px"},headers:I,items:m(n).gangPanel.zones,"items-per-page":3,"no-data-text":"Gänget kontrollerar inga zoner"},{"item.zone":t(({item:u})=>[i("span",ye,r(u.zone),1)]),"item.time":t(({item:u})=>[i("span",null,r(_(u.claimtime)),1)]),"item.manage":t(({item:u})=>[e(S,{style:{left:"-0.8vh"},variant:"text",icon:"",color:"red",onClick:B=>p(u)},{default:t(()=>[e(D,{class:"mdi mdi-delete",size:"28"})]),_:2},1032,["onClick"])]),_:1},8,["items"])]),_:1}),e(f,{modelValue:d.value,"onUpdate:modelValue":P[1]||(P[1]=u=>d.value=u),width:"500",persistent:""},{default:t(()=>[b.value?($(),T(A,{key:0,style:{background:"#1B428A","font-family":"Roboto"}},{default:t(()=>[e(k,{style:{position:"relative",top:"-2px","font-size":"17px","font-family":"Roboto"}},{default:t(()=>[o(" Överge område ")]),_:1}),e(x,{style:{position:"relative",top:"-2px"}},{default:t(()=>[o(" Är du säker att du vill ta bort gängets åtkomst till området "),i("span",ke,r(b.value.zone),1),o("? ")]),_:1}),e(a,null,{default:t(()=>[e(s),e(S,{text:"Avbryt",color:"red",onClick:N}),e(S,{loading:y.loading,onClick:P[0]||(P[0]=u=>v(b.value)),text:"Ja, Jag är säker",color:"success"},null,8,["loading"])]),_:1})]),_:1})):j("",!0)]),_:1},8,["modelValue"])],64)}}};const we={__name:"memberManage",setup(z){G();const n=K(),d=w(!1),b=w(""),V=w(!1),I=w(!1),C=w(!1),p=w(null),N=w("");w({name:"",cid:"",job:""});const v=()=>{d.value=!0,n.send("recruitPlayer",{gang:n.gangPanel.name,player:b.value},(s,a)=>{s?(console.error("Något har gått fel",s),g()):(d.value=!1,g(),console.log("Det har gått rätt till!",a))})},_=W(()=>n.gangPanel.employee.filter(s=>{const a=N.value.toLowerCase();return s.name.toLowerCase().includes(a)||s.phonenumber.toLowerCase().includes(a)||s.cid.toLowerCase().includes(a)||s.job.label.toLowerCase().includes(a)})),y=[{align:"start",key:"cid",title:"Personnummer"},{align:"start",key:"name",title:"Fullständiga namn"},{align:"start",key:"phonenumber",title:"Telefonnummer"},{align:"start",key:"job",title:"Rang"},{align:"center",key:"manage",title:"Hantera"}];function P(s){p.value=s,I.value=!0}function k(s){p.value=s,C.value=!0}function g(){I.value=!1,C.value=!1,V.value=!1,p.value=null}const A=s=>{const a=s.otherGrades.find(f=>f.title===s.job.label);if(a){const f={cid:s.cid,job:{label:s.job.label,value:a.value}};n.send("editEmployee",f,(u,B)=>{u?(console.error("Något har gått fel",u),g()):(console.log("Det har gått rätt till!",B),g())})}else console.error("Ingen matchande jobbtitel hittades.")},D=w([{text:"Anställ via personnr"},{text:"Anställ närmaste spelaren"}]),S=s=>{s.text==="Anställ via personnr"?V.value=!0:L()},L=s=>{n.send("recruitClosestPlayer",{gang:n.gangPanel.name},(a,f)=>{a?(console.error("Något har gått fel",a),g()):(console.log("Det har gått rätt till!",f),g())})},x=s=>{n.send("firePlayer",{gang:n.gangPanel.name,player:s.cid},(a,f)=>{a?(console.error("Något har gått fel",a),g()):(console.log("Det har gått rätt till!",f),g())})};return(s,a)=>{const f=l("v-text-field"),u=l("v-icon"),B=l("v-btn"),ae=l("v-list-item-title"),H=l("v-list-item"),M=l("v-list"),ne=l("v-menu"),R=l("v-chip"),le=l("v-data-table"),F=l("v-card"),Q=l("v-card-title"),oe=l("v-select"),Z=l("v-card-text"),E=l("v-card-actions"),O=l("v-dialog"),se=l("v-spacer");return $(),U(q,null,[e(F,{style:{"max-height":"47vh",top:"1vh",background:"#1B428A"}},{default:t(()=>[e(f,{modelValue:N.value,"onUpdate:modelValue":a[0]||(a[0]=c=>N.value=c),label:"Sök efter medlemmar",variant:"underlined",style:{position:"absolute",top:"1vh",left:"1vh",width:"74vh"}},null,8,["modelValue"]),e(ne,{activator:"#menu-activator","close-on-content-click":!1,transition:"scale-transition"},{activator:t(({on:c,attrs:J})=>[e(B,ve({id:"menu-activator"},J,ge(c),{style:{left:"76vh",top:"2vh"},icon:"",variant:"text"}),{default:t(()=>[e(u,{size:"25"},{default:t(()=>[o("mdi mdi-plus")]),_:1})]),_:2},1040)]),default:t(()=>[e(M,{style:{background:"#1B428A"}},{default:t(()=>[($(!0),U(q,null,ie(D.value,(c,J)=>($(),T(H,{style:{background:"#1B428A"},key:J,onClick:ce=>S(c)},{default:t(()=>[e(ae,null,{default:t(()=>[o(r(c.text),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),e(le,{style:{background:"#1B428A",position:"relative","margin-top":"3vh","max-height":"40vh",width:"81vh","border-radius":"7px"},headers:y,items:_.value,"items-per-page":7,"no-data-text":"Gänget har inga medlemmar"},{"item.cid":t(({item:c})=>[e(R,{label:"",variant:"outlined",style:{"white-space":"nowrap","overflow-x":"hidden","max-width":"170px"}},{default:t(()=>[o(r(c.cid),1)]),_:2},1024)]),"item.name":t(({item:c})=>[e(R,{label:"",variant:"outlined"},{default:t(()=>[o(r(c.name),1)]),_:2},1024)]),"item.phonenumber":t(({item:c})=>[e(R,{variant:"outlined",label:""},{default:t(()=>[o(r(c.phonenumber),1)]),_:2},1024)]),"item.job":t(({item:c})=>[e(R,{variant:"outlined",label:""},{default:t(()=>[o(r(c.job.label),1)]),_:2},1024)]),"item.manage":t(({item:c})=>[e(B,{variant:"text",icon:"",onClick:J=>P(c)},{default:t(()=>[e(u,{class:"mdi mdi-dots-vertical",size:"28"})]),_:2},1032,["onClick"]),e(B,{variant:"text",color:"red",icon:"",onClick:J=>k(c)},{default:t(()=>[e(u,{class:"mdi mdi-karate",size:"28"})]),_:2},1032,["onClick"])]),_:1},8,["items"])]),_:1}),e(O,{modelValue:I.value,"onUpdate:modelValue":a[5]||(a[5]=c=>I.value=c),width:"450",persistent:"",opacity:"0"},{default:t(()=>[p.value?($(),T(F,{key:0,style:{background:"#1B428A",height:"23vh"}},{default:t(()=>[e(Q,{style:{position:"relative","font-size":"16px"}},{default:t(()=>[o("Redigera anställd")]),_:1}),e(Z,null,{default:t(()=>[e(f,{style:{width:"50%",position:"relative",left:"-1vh"},label:"Namn",modelValue:p.value.name,"onUpdate:modelValue":a[1]||(a[1]=c=>p.value.name=c),variant:"outlined",readonly:"",focused:"",density:"comfortable"},null,8,["modelValue"]),e(f,{style:{width:"50%",position:"relative",top:"-6.5vh",left:"19vh"},label:"Personnummer",modelValue:p.value.cid,"onUpdate:modelValue":a[2]||(a[2]=c=>p.value.cid=c),variant:"outlined",focused:"",readonly:"",density:"comfortable"},null,8,["modelValue"]),e(oe,{class:"blue-dropdown",style:{width:"104%",position:"relative",top:"-7.2vh",left:"-1vh"},modelValue:p.value.job.label,"onUpdate:modelValue":a[3]||(a[3]=c=>p.value.job.label=c),items:p.value.otherGrades,label:"Rang",variant:"outlined",placeholder:"Välj",density:"comfortable","item-text":"label","item-value":"grade"},null,8,["modelValue","items"])]),_:1}),e(E,null,{default:t(()=>[e(B,{style:{position:"absolute",top:"2px",left:"37vh"},icon:"",onClick:g},{default:t(()=>[e(u,null,{default:t(()=>[o("mdi mdi-close")]),_:1})]),_:1}),e(B,{block:"",style:{top:"-8.2vh",left:"-0.7vh"},color:"white",variant:"tonal",onClick:a[4]||(a[4]=c=>A(p.value))},{default:t(()=>[o(" Redigera ")]),_:1})]),_:1})]),_:1})):j("",!0)]),_:1},8,["modelValue"]),e(O,{modelValue:C.value,"onUpdate:modelValue":a[7]||(a[7]=c=>C.value=c),width:"500",persistent:"",opacity:"0"},{default:t(()=>[p.value?($(),T(F,{key:0,style:{background:"#1B428A","font-family":"Roboto"}},{default:t(()=>[e(Q,{style:{position:"relative",top:"-2px","font-size":"17px","font-family":"Roboto"}},{default:t(()=>[o("Sparka anställd")]),_:1}),e(Z,{style:{position:"relative",top:"-2px"}},{default:t(()=>[o(" Är du säker att du vill sparka "+r(p.value.name)+" från gänget? ",1)]),_:1}),e(E,null,{default:t(()=>[e(se),e(B,{text:"Avbryt",color:"red",onClick:g}),e(B,{loading:s.loading,onClick:a[6]||(a[6]=c=>x(p.value)),text:"Ja, Jag är säker",color:"success"},null,8,["loading"])]),_:1})]),_:1})):j("",!0)]),_:1},8,["modelValue"]),e(O,{modelValue:V.value,"onUpdate:modelValue":a[11]||(a[11]=c=>V.value=c),"max-width":"450",persistent:"",opacity:"0"},{default:t(()=>[e(F,{style:{background:"#1B428A"}},{default:t(()=>[e(Q,{style:{position:"relative",top:"-2px","font-size":"16px"}},{default:t(()=>[o("Rekrytera medlem")]),_:1}),e(Z,null,{default:t(()=>[e(f,{modelValue:b.value,"onUpdate:modelValue":a[8]||(a[8]=c=>b.value=c),color:"white",label:"Ange personnummer",variant:"underlined",rules:[c=>/^\d{4}-\d{2}-\d{2}-\d{4}$/.test(c)||"Ange personnumret enligt formatet xxxx-xx-xx-xxxx"]},null,8,["modelValue","rules"])]),_:1}),e(E,null,{default:t(()=>[e(B,{style:{position:"absolute",top:"-1px",left:"37vh"},onClick:a[9]||(a[9]=c=>g()),icon:""},{default:t(()=>[e(u,null,{default:t(()=>[o("mdi mdi-close")]),_:1})]),_:1}),e(B,{block:"",loading:d.value,style:{width:"16vh",left:"-0.65vh"},color:"white",variant:"tonal",onClick:a[10]||(a[10]=c=>v())},{default:t(()=>[o("Anställ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},Ve=ee(we,[["__scopeId","data-v-ba1e0970"]]),Ie={class:"textTransactions",style:{position:"relative",top:"-3vh"}},$e={__name:"economyManage",setup(z){G();const n=K(),d=w({withdraw:"",deposit:""}),b=w(!1),V=[{align:"center",key:"who",title:"Utförd av"},{align:"center",key:"type",title:"Typ"},{align:"center",key:"amount",title:"Summa"},{align:"center",key:"date",title:"Datum"}],I=W(()=>n.gangPanel.transaction.slice().sort((v,_)=>new Date(_.date)-new Date(v.date))),C=v=>v.toLocaleString("sv-SE")+",00 kr",p=()=>{if(b.value=!0,d.value.deposit!==""&&d.value.withdraw!==""){console.error("Kan inte göra både insättning och uttag samtidigt.");return}if(d.value.deposit!==""){const v=parseFloat(d.value.deposit);isNaN(v)||n.send("makeDeposit",{amount:v},(_,y)=>{_?console.error("Fel vid insättning:",_):(b.value=!1,d.value.deposit="",console.log("Insättning lyckades:",y))})}if(d.value.withdraw!==""){const v=parseFloat(d.value.withdraw);isNaN(v)||n.send("makeWithdrawal",{amount:v},(_,y)=>{_?console.error("Fel vid uttag:",_):(b.value=!1,d.value.withdraw="",console.log("Uttag lyckades:",y))})}},N=v=>{let _="";switch(v){case"deposit":_="Insättning";break;case"withdraw":_="Uttag";break;default:_="Okänd typ";break}return{label:_}};return(v,_)=>{const y=l("v-card-title"),P=l("v-card-text"),k=l("v-card"),g=l("v-text-field"),A=l("v-btn"),D=l("v-chip"),S=l("v-data-table"),L=fe("rules");return $(),U(q,null,[e(k,{flat:"","prepend-icon":"mdi mdi-piggy-bank",style:{width:"100%",height:"9vh",position:"absolute",top:"1vh",background:"#1B428A"}},{default:t(()=>[e(y,{style:{position:"absolute","font-size":"16px",top:"-2px",left:"2.9vh"}},{default:t(()=>[o("Gängsaldo")]),_:1}),e(P,{style:{position:"absolute","font-size":"30px",top:"5vh","font-weight":"500"}},{default:t(()=>[o(r(C(m(n).gangPanel.balance)),1)]),_:1})]),_:1}),i("div",Ie,[e(k,{flat:"",style:{width:"49.5%",top:"14vh",height:"5vh",position:"absolute",background:"#1B428A"}},{default:t(()=>[ue(e(g,{modelValue:d.value.deposit,"onUpdate:modelValue":_[0]||(_[0]=x=>d.value.deposit=x),density:"compact",label:"Sätt in",variant:"outlined",style:{width:"100%",padding:"8px",position:"absolute"}},null,8,["modelValue"]),[[L,[x=>!d.value.withdraw||!x||"Kan inte fylla i både insättning och uttag samtidigt"]]])]),_:1}),e(k,{flat:"",style:{width:"49.5%",top:"14vh",height:"5vh",left:"40.8vh",position:"absolute",background:"#1B428A"}},{default:t(()=>[ue(e(g,{modelValue:d.value.withdraw,"onUpdate:modelValue":_[1]||(_[1]=x=>d.value.withdraw=x),density:"compact",label:"Ta ut",variant:"outlined",style:{width:"100%",padding:"8px",position:"absolute"}},null,8,["modelValue"]),[[L,[x=>!d.value.deposit||!x||"Kan inte fylla i både insättning och uttag samtidigt"]]])]),_:1})]),e(A,{loading:b.value,onClick:_[2]||(_[2]=x=>p()),block:"",flat:"",style:{position:"absolute",background:"#1B428A",top:"17vh"}},{default:t(()=>[o("Begär transaktion")]),_:1},8,["loading"]),e(S,{style:{background:"#1B428A",position:"relative","margin-top":"21vh","max-height":"27vh",width:"81vh","border-radius":"7px"},headers:V,items:I.value,"items-per-page":4,"no-data-text":"Gänget har inga transaktioner"},{"item.who":t(({item:x})=>[e(D,{label:"",variant:"outlined",style:{"white-space":"nowrap","overflow-x":"hidden","max-width":"170px"}},{default:t(()=>[o(r(x.who),1)]),_:2},1024)]),"item.type":t(({item:x})=>[e(D,{label:"",variant:"outlined"},{default:t(()=>[o(r(N(x.type).label),1)]),_:2},1024)]),"item.amount":t(({item:x})=>[e(D,{variant:"outlined",label:""},{default:t(()=>[o(r(x.amount)+" kr",1)]),_:2},1024)]),"item.date":t(({item:x})=>[e(D,{variant:"outlined",label:""},{default:t(()=>[o(r(x.date),1)]),_:2},1024)]),_:1},8,["items"])],64)}}};const te=z=>(de("data-v-1f4d3363"),z=z(),re(),z),Pe={style:{"font-size":"13px"}},Ae={class:"tab-icon-wrapper",style:{display:"flex","justify-content":"center","align-items":"center",height:"100%"}},Ce=te(()=>i("span",{class:"tab-text"},"Marknad",-1)),ze={class:"tab-icon-wrapper",style:{display:"flex","justify-content":"center","align-items":"center",height:"100%"}},Be=te(()=>i("span",{class:"tab-text"},"Kassa",-1)),Ne={class:"subtitle-container",style:{display:"flex","justify-content":"center","align-items":"center","flex-direction":"column"}},De=te(()=>i("br",null,null,-1)),Se=te(()=>i("thead",null,[i("tr",null,[i("th",null,"Produkt"),i("th",{class:"text-center"},"Pris"),i("th",{class:"text-center"},"Poäng"),i("th",{class:"text-center"},"Antal"),i("th",{class:"text-center"},"Hantera")])],-1)),Le={class:"text-center"},Te={class:"text-center"},Ue={class:"text-center"},Me={class:"text-center"},je={colspan:"2"},qe={colspan:"3"},Re={style:{color:"#42A5F5"}},Fe={style:{color:"lightgreen"}},Oe={style:{color:"#42A5F5"}},Je={__name:"blackMarket",setup(z){G();const n=K(),d=w(""),b=w(!1),V=w(!1),I=s=>{const a=g(s)+1;p({...s,quantity:a})},C=s=>{const a=Math.max(0,g(s)-1);p({...s,quantity:a})},p=s=>{const a=n.cartItems.findIndex(f=>f.item===s.item);s.quantity===0?a!==-1&&(n.cartItems.splice(a,1),sessionStorage.setItem("cartItems",JSON.stringify(n.cartItems))):(a!==-1?n.cartItems[a].quantities=s.quantity:n.cartItems.push({...s,quantities:s.quantity}),sessionStorage.setItem("cartItems",JSON.stringify(n.cartItems))),y()},N=()=>{b.value=!0},v=W(()=>n.cartItems.length>0),_=()=>{V.value=!0,n.send("orderItems",{gang:n.gangPanel.name,items:n.cartItems},(s,a)=>{s?(console.error("Något har gått fel",s),b.value=!1):(V.value=!1,b.value=!1,console.log("Det har gått rätt till!",a),n.clear())})},y=()=>{let s=0;n.cartItems.forEach(a=>{s+=a.quantities}),n.totalItems=s};(s=>{s.forEach(a=>{typeof a.quantity>"u"&&(a.quantity=0)})})(n.gangPanel.market);const k=sessionStorage.getItem("cartItems");k&&(n.cartItems=JSON.parse(k),y());const g=s=>{const a=n.cartItems.find(f=>f.item===s.item);return a?a.quantities:0},A=()=>n.cartItems.reduce((s,a)=>s+a.quantities,0),D=s=>{const a=n.cartItems.findIndex(f=>f.item===s.item);if(a!==-1){const f=n.cartItems[a];f.quantities>1?f.quantities--:n.cartItems.splice(a,1),S(s,-1),sessionStorage.setItem("cartItems",JSON.stringify(n.cartItems))}},S=(s,a)=>{K().gangPanel.market.find(u=>u.item===u)&&(s.quantity+=a)},L=()=>n.cartItems.reduce((s,a)=>s+a.price*a.quantities,0),x=()=>n.cartItems.reduce((s,a)=>s+a.points*a.quantities,0);return(s,a)=>{const f=l("v-progress-linear"),u=l("v-icon"),B=l("v-tab"),ae=l("v-tabs"),H=l("v-card"),M=l("v-btn"),ne=l("v-text-field"),R=l("v-card-actions"),le=l("v-img"),F=l("v-card-title"),Q=l("v-card-subtitle"),oe=l("v-col"),Z=l("v-row"),E=l("v-window-item"),O=l("v-chip"),se=l("v-table"),c=l("v-card-text"),J=l("v-spacer"),ce=l("v-dialog"),pe=l("v-window");return $(),U(q,null,[e(f,{style:{top:"0.5vh",width:"80.85vh"},color:"green",height:"22","model-value":m(n).gangPanel.purchases/m(n).gangPanel.level.configInfo.maxOrders*100,striped:""},{default:t(({value:h})=>[i("span",Pe,r(m(n).gangPanel.purchases)+"/"+r(m(n).gangPanel.level.configInfo.maxOrders)+" dagliga inköp",1)]),_:1},8,["model-value"]),e(H,{class:"marketnavigation-bar",style:{height:"5vh",width:"80.85vh",top:"1vh",background:"#1B428A"}},{default:t(()=>[e(ae,{class:"marketnavigation-bar",modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=h=>d.value=h),style:{position:"absolute",height:"100%",width:"100%"}},{default:t(()=>[e(B,{value:"shop",exact:"",style:{width:"50%"}},{default:t(()=>[i("div",Ae,[e(u,{class:"tab-icon",size:"20"},{default:t(()=>[o("mdi mdi-cart-variant")]),_:1}),Ce])]),_:1}),e(B,{value:"checkout",style:{width:"50%"}},{default:t(()=>[i("div",ze,[e(u,{class:"tab-icon",size:"20"},{default:t(()=>[o("mdi mdi-cash-register")]),_:1}),Be])]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(pe,{modelValue:d.value,"onUpdate:modelValue":a[5]||(a[5]=h=>d.value=h),style:{position:"relative",width:"81vh",top:"1vh",height:"42vh"}},{default:t(()=>[e(E,{value:"shop"},{default:t(()=>[e(Z,{class:"overflow-scroll"},{default:t(()=>[($(!0),U(q,null,ie(m(n).gangPanel.market,(h,_e)=>($(),T(oe,{key:h.item,cols:"3",class:"",style:{padding:"33px 0px 0px 10px"}},{default:t(()=>[e(H,{class:"small-card",style:{background:"#00000040"}},{default:t(()=>[e(R,{style:{position:"relative",left:"-1.3vh"}},{default:t(()=>[e(M,{color:"blue-darken-1",onClick:me=>I(h),style:{position:"relative",top:"215px",left:"138px"},icon:""},{default:t(()=>[e(u,null,{default:t(()=>[o("mdi mdi-plus")]),_:1})]),_:2},1032,["onClick"]),e(M,{color:"red",onClick:me=>C(h),style:{position:"relative",top:"215px",left:"-20px"},icon:""},{default:t(()=>[e(u,null,{default:t(()=>[o("mdi mdi-minus")]),_:1})]),_:2},1032,["onClick"]),e(ne,{class:"text-fieldmarket",value:g(h),variant:"solo",readonly:"",style:{position:"relative",width:"40px","min-height":"49px",top:"227px",left:"-13px"},density:""},null,8,["value"])]),_:2},1024),e(le,{src:h.image,height:"140px",width:"120px",style:{position:"relative",bottom:"23px",left:"4vh"},contain:""},null,8,["src"]),e(F,{style:{"margin-top":"-19vh","margin-left":"3px"},class:"small-title text-center"},{default:t(()=>[o(r(h.label),1)]),_:2},1024),i("div",Ne,[e(Q,{style:{position:"absolute",bottom:"-2vh",left:"0vh"}},{default:t(()=>[o(r(h.price)+" kr ",1),De,o(" Poäng: "+r(h.points),1)]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),e(E,{value:"checkout"},{default:t(()=>[e(se,{class:"scrollbar-table",style:{background:"#00000040",width:"88vh",position:"relative",top:"12px","border-radius":"7px"}},{default:t(()=>[Se,i("tbody",null,[($(!0),U(q,null,ie(m(n).cartItems,h=>($(),U("tr",{key:h.name},[i("td",null,r(h.label),1),i("td",Le,[e(O,{color:"green",variant:"tonal"},{default:t(()=>[o(r(h.price*h.quantities)+" kr",1)]),_:2},1024)]),i("td",Te,[e(O,{color:"blue",variant:"tonal"},{default:t(()=>[e(u,null,{default:t(()=>[o("mdi mdi-snowflake")]),_:1}),o(r(h.points*h.quantities),1)]),_:2},1024)]),i("td",Ue,r(h.quantities),1),i("td",Me,[e(M,{variant:"text",color:"red",icon:"mdi mdi-delete",onClick:_e=>D(h)},null,8,["onClick"])])]))),128))]),i("tfoot",null,[i("tr",null,[i("td",je,"Totalt antal artiklar: "+r(A()),1),i("td",qe,[e(O,{style:{left:"76.5vh",position:"sticky"},color:"green",variant:"tonal"},{default:t(()=>[e(u,{icon:"mdi mdi-cash",start:""}),o(" "+r(L())+" kr ",1)]),_:1})])])])]),_:1}),e(ce,{modelValue:b.value,"onUpdate:modelValue":a[3]||(a[3]=h=>b.value=h),"max-width":"449px"},{default:t(()=>[e(H,null,{default:t(()=>[e(F,{style:{"font-size":"18px","font-family":"Roboto"},class:"headline"},{default:t(()=>[o("Slutför betalning")]),_:1}),e(c,{style:{"font-size":"16px","font-family":"Roboto"}},{default:t(()=>[o(" Är du säker på att lägga din beställning av "),i("span",Re,r(A())+" varor",1),o(" med totalpriset på "),i("span",Fe,r(L())+" kr",1),o(" och "),i("span",Oe,r(x())+" poäng",1),o("? ")]),_:1}),e(c,{style:{"font-size":"16px","font-family":"Roboto"}},{default:t(()=>[o(" Du kommer få en notis av leverantören med plats och tid för upphämtning av varorna. ")]),_:1}),e(R,null,{default:t(()=>[e(J),e(M,{loading:V.value,style:{"min-width":"22vh",left:"-2px"},color:"blue-darken-4",variant:"flat",text:"",onClick:a[1]||(a[1]=h=>_())},{default:t(()=>[o("Ja, Jag är säker")]),_:1},8,["loading"]),e(M,{style:{"min-width":"17vh"},color:"blue-darken-4",variant:"flat",onClick:a[2]||(a[2]=h=>b.value=!1),text:""},{default:t(()=>[o("Avbryt")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(M,{style:{background:"#1B428A",position:"relative",width:"11vh",left:"35.5vh",top:"20px"},disabled:!v.value,onClick:a[4]||(a[4]=h=>N())},{default:t(()=>[o("Beställ")]),_:1},8,["disabled"])]),_:1})]),_:1},8,["modelValue"])],64)}}},Ke=ee(Je,[["__scopeId","data-v-1f4d3363"]]);const X=z=>(de("data-v-b4a76f92"),z=z(),re(),z),Ee={class:"tab-icon-wrapper",style:{display:"flex","justify-content":"center","align-items":"center",height:"100%"}},Ge=X(()=>i("span",{class:"tab-text"},"Nivå",-1)),He={class:"tab-icon-wrapper",style:{display:"flex","justify-content":"center","align-items":"center",height:"100%"}},Qe=X(()=>i("span",{class:"tab-text"},"Kommer snart",-1)),Ze=X(()=>i("div",{style:{position:"absolute",padding:"15px","font-weight":"500"}},"Nivåsystem",-1)),We={style:{position:"absolute",top:"37px",left:"15px","font-weight":"400",color:"#ffffffab"}},Xe={style:{"font-size":"13px"}},Ye={style:{"font-weight":"500",color:"#42A5F5"}},et={style:{"font-weight":"500",color:"#42A5F5"}},tt=X(()=>i("br",null,null,-1)),at=X(()=>i("br",null,null,-1)),nt={style:{"font-weight":"500",color:"#42A5F5"}},lt={__name:"levelManage",setup(z){G();const n=K(),d=w("level"),b=w(!1),V=W(()=>n.gangPanel.points>=n.gangPanel.level.configInfo.pointsNeeds),I=W(()=>n.gangPanel.level.level===100),C=w(!1);w(!1);const p=()=>{b.value=!0,C.value=!1,n.send("levelUp",{gang:n.gangPanel.name},(N,v)=>{N?console.error("Något har gått fel",N):(b.value=!1,console.log("Det har gått rätt till!",v))})};return w([{name:"rs6",label:"RS6 TK",brand:"audi",price:100,image:"https://r2.fivemanage.com/9uBVDSZKRKsWiAKLvbKhe/XOsmall.png"}]),(N,v)=>{const _=l("v-icon"),y=l("v-tab"),P=l("v-tabs"),k=l("v-card"),g=l("v-card-text"),A=l("v-progress-linear"),D=l("v-btn"),S=l("v-card-title"),L=l("v-spacer"),x=l("v-card-actions"),s=l("v-dialog"),a=l("v-window-item"),f=l("v-window");return $(),U(q,null,[e(k,{class:"marketnavigation-bar",style:{height:"5.2vh",width:"80.85vh",top:"1vh",background:"#1B428A"}},{default:t(()=>[e(P,{class:"marketnavigation-bar",modelValue:d.value,"onUpdate:modelValue":v[0]||(v[0]=u=>d.value=u),style:{position:"absolute",height:"100%",width:"100%"}},{default:t(()=>[e(y,{value:"level",exact:"",style:{width:"50%"}},{default:t(()=>[i("div",Ee,[e(_,{class:"tab-icon",size:"20"},{default:t(()=>[o("mdi mdi-stairs-up")]),_:1}),Ge])]),_:1}),e(y,{value:"reward",disabled:"",style:{width:"50%"}},{default:t(()=>[i("div",He,[e(_,{class:"tab-icon",size:"20"},{default:t(()=>[o("mdi mdi-piggy-bank")]),_:1}),Qe])]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(f,{modelValue:d.value,"onUpdate:modelValue":v[3]||(v[3]=u=>d.value=u),style:{position:"relative",width:"81vh",top:"1vh",height:"42vh"}},{default:t(()=>[e(a,{value:"level"},{default:t(()=>[e(k,{class:"header",style:{width:"80.8vh",height:"7vh",top:"1vh",background:"#1B428A"}},{default:t(()=>[Ze,i("div",We," Nuvarande nivå: "+r(m(n).gangPanel.level.level),1)]),_:1}),e(k,{class:"infoheader",block:"",style:{height:"7vh",width:"80.8vh",top:"1.5vh",background:"#1B428A"}},{default:t(()=>[e(g,{style:{position:"absolute","font-weight":"400","font-size":"14px"}},{default:t(()=>[o(r(m(n).gangPanel.level.level===100?"Grattis, erat gäng har uppnått den maximala nivån! Du kan dessvärre inte öka din nivå samt inköp per dag, men just nu kan erat gäng köpa in "+m(n).gangPanel.level.configInfo.maxOrders+" produkter per dag.":"Genom att gå upp i nivå kommer gänget kunna köpa in fler produkter på marknaden, just nu kan gänget köpa in "+m(n).gangPanel.level.configInfo.maxOrders+" produkt(er) och genom att levla upp till level "+m(n).gangPanel.level.nextLevel+" kommer gänget kunna köpa in "+(I.value?m(n).gangPanel.level.configInfo.maxOrders:m(n).gangPanel.level.nextLevelInfo.maxOrders)+" produkter per dag"),1)]),_:1})]),_:1}),e(k,{block:"",style:{background:"#1B428A","min-height":"2vh",top:"3vh"}},{default:t(()=>[e(A,{style:{padding:"1px",width:"80.70vh"},color:"green",height:"28","model-value":m(n).gangPanel.level.configInfo.pointsNeeds>0?m(n).gangPanel.points/m(n).gangPanel.level.configInfo.pointsNeeds*100:0,striped:""},{default:t(({value:u})=>[i("span",Xe,r(m(n).gangPanel.points)+"/"+r(m(n).gangPanel.level.configInfo.pointsNeeds)+" Poäng",1)]),_:1},8,["model-value"])]),_:1}),e(s,{modelValue:C.value,"onUpdate:modelValue":v[2]||(v[2]=u=>C.value=u),width:"500"},{activator:t(({props:u})=>[e(D,ve(u,{disabled:!V.value||I.value,style:{background:"#1a428a",position:"relative",width:"11vh",left:"35.5vh",top:"4.1vh"}}),{default:t(()=>[o("Levla upp")]),_:2},1040,["disabled"])]),default:t(({isActive:u})=>[e(k,null,{default:t(()=>[e(S,{style:{"font-size":"18px","font-family":"Roboto"},class:"headline"},{default:t(()=>[o("Levla upp")]),_:1}),e(g,{style:{"font-size":"16px","font-family":"Roboto"}},{default:t(()=>[o(" Är du säker på att du vill använda "),i("span",Ye,r(m(n).gangPanel.level.configInfo.pointsNeeds)+" poäng ",1),o(" för att uppgradera gänget till nivå "),i("span",et,r(m(n).gangPanel.level.nextLevel),1),o("? "),tt,at,o(" Gänget kommer att ha "),i("span",nt,r(m(n).gangPanel.points-m(n).gangPanel.level.configInfo.pointsNeeds),1),o(" poäng kvar ")]),_:1}),e(x,null,{default:t(()=>[e(L),e(D,{loading:b.value,style:{"min-width":"24vh",left:"0vh"},color:"blue-darken-4",variant:"flat",text:"",onClick:v[1]||(v[1]=B=>p())},{default:t(()=>[o("Ja, Jag är säker")]),_:1},8,["loading"]),e(D,{style:{"min-width":"20vh",left:"0vh"},color:"blue-darken-4",variant:"flat",text:"",onClick:B=>u.value=!1},{default:t(()=>[o("Avbryt")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])],64)}}},ot=ee(lt,[["__scopeId","data-v-b4a76f92"]]);const Y=z=>(de("data-v-d45e2139"),z=z(),re(),z),st={class:"d-flex justify-center align-center fill-height fill-width"},it={class:"header-text",style:{position:"absolute","font-weight":"400",top:"1.7vh",left:"50px","font-size":"14px"}},dt={style:{"font-weight":"500",color:"#42A5F5"}},rt={class:"tab-icon-wrapper"},ct=Y(()=>i("span",{class:"tab-text"},"Översikt",-1)),ut={class:"tab-icon-wrapper"},vt=Y(()=>i("span",{class:"tab-text"},"Hantera",-1)),pt={class:"tab-icon-wrapper"},_t=Y(()=>i("span",{class:"tab-text"},"Kassa",-1)),mt={class:"tab-icon-wrapper"},gt=Y(()=>i("span",{class:"tab-text"},"Marknad",-1)),ft={class:"tab-icon-wrapper"},ht=Y(()=>i("span",{class:"tab-text"},"Status",-1)),bt={__name:"gangpanel",setup(z){G();const n=K(),d=w("");return(b,V)=>{const I=l("v-icon"),C=l("v-card"),p=l("v-tab"),N=l("v-tabs"),v=l("v-window"),_=l("v-main"),y=l("v-app");return $(),T(y,{style:{background:"transparent"}},{default:t(()=>[e(_,null,{default:t(()=>[i("div",st,[e(C,{class:"v-container"},{default:t(()=>[e(C,{class:"v-header"},{default:t(()=>[e(I,{class:"header-icon",style:{position:"absolute",top:"1vh",left:"10px"},size:"35"},{default:t(()=>[o("mdi mdi-account-circle")]),_:1}),i("div",it,[o("Inloggad som "),i("span",dt,r(m(n).gangPanel.label),1)])]),_:1}),e(C,{class:"navigation-bar",style:{height:"5vh",width:"80.85vh",top:"1vh",left:"11px",background:"#1B428A"}},{default:t(()=>[e(N,{modelValue:d.value,"onUpdate:modelValue":V[0]||(V[0]=P=>d.value=P),style:{position:"absolute",height:"66px",left:"-0vh"}},{default:t(()=>[e(p,{value:"overview"},{default:t(()=>[i("div",rt,[e(I,{class:"tab-icon",size:"20"},{default:t(()=>[o("mdi mdi-view-dashboard")]),_:1}),ct])]),_:1}),e(p,{value:"memberManage"},{default:t(()=>[i("div",ut,[e(I,{class:"tab-icon",size:"20"},{default:t(()=>[o("mdi mdi-account-details")]),_:1}),vt])]),_:1}),e(p,{value:"economyManage"},{default:t(()=>[i("div",pt,[e(I,{class:"tab-icon",size:"20"},{default:t(()=>[o("mdi mdi-bank")]),_:1}),_t])]),_:1}),e(p,{value:"blackmarket"},{default:t(()=>[i("div",mt,[e(I,{class:"tab-icon",size:"20"},{default:t(()=>[o("mdi mdi-pistol")]),_:1}),gt])]),_:1}),e(p,{value:"levelManage"},{default:t(()=>[i("div",ft,[e(I,{class:"tab-icon",size:"20"},{default:t(()=>[o("mdi mdi-hand-coin")]),_:1}),ht])]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(v,{modelValue:d.value,"onUpdate:modelValue":V[1]||(V[1]=P=>d.value=P),style:{position:"relative",width:"81vh",left:"11px",top:"1vh",height:"49vh"}},{default:t(()=>[d.value=="overview"?($(),T(xe,{key:0})):j("",!0),d.value=="memberManage"?($(),T(Ve,{key:1})):j("",!0),d.value=="economyManage"?($(),T($e,{key:2})):j("",!0),d.value=="blackmarket"?($(),T(Ke,{key:3})):j("",!0),d.value=="levelManage"?($(),T(ot,{key:4})):j("",!0)]),_:1},8,["modelValue"])]),_:1})])]),_:1})]),_:1})}}},kt=ee(bt,[["__scopeId","data-v-d45e2139"]]);export{kt as default};
